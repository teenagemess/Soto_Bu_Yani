<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Soto Bu Yani</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css" />
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Rufina&display=swap" rel="stylesheet">


    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
    <header>
        <!--Navbar-->
        <nav class="navbar navbar-expand-lg shadow-sm fixed-top navbar-dark scrolling-navbar"
            style="background-color:#233000;">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img src="assets/logo-soto.png" alt="Logo" width="70" height="70"
                        class="d-inline-block align-text-center">
                    Soto Bu Yani
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav ms-auto d-flex  align-items-center" style="font-size: 18px;">
                        <a class="nav-link active" href="#banner">Home</a>
                        <a class="nav-link" href="#menu">Menu</a>
                        <a class="nav-link" href="#pesanan">Order</a>
                        <a class="nav-link" href="#">Contact</a>
                        <a class="nav-link" href="index.html"> <button type="button" class="btn btn-outline-light"
                                style="width: 150px; height: 50px; border-radius: 1px; font-size: 18px; margin-left: 70px;">LOGOUT</button></a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <!--Navbar End-->

    <section id="banner">
        <div class="parallax">
            <div class="banner">
                <div class="carousel">
                    <div><img src="assets/fotobanner1.jpg" alt="" loading="lazy"></div>
                    <div class="banner2"><img src="assets/fotobanner2.jpg" alt="" loading="lazy"></div>
                    <div class="banner3"><img src="assets/fotobanner3.jpg" alt="" loading="lazy"></div>
                </div>
                <div class="banner-text">
                    <h1 style="font-size: 60px;">Utamakan Sarapan <br>Daripada Kelaparan</h1>
                    <p>Bahan fresh disediakan untuk anda setiap harinya</p>
                </div>


                <div class="banner-text2" style="font-size: 18px; font-family: 'Inter', sans-serif;">
                    <p>Open Time :<span style="margin-left: 120px;">Sunday - Friday</span>
                        <br>........................................................................ <br>
                    <div class="banner-text3 text-center">
                        <p>Brunch <span style="margin-left: 90px;">Lunch</span> <br>7 -
                            10
                            AM
                            <span style="margin-left: 65px;">12 - 4 PM</span>
                        </p>
                    </div>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <div class="justify-content-end" style="display: flex; position: relative;"><img src="assets/Blueberry.png" alt=""
            width="20%"></div>

    <section id="menu">
        <div class="pl-5 pr-5">
            <div class="container d-flex text-center justify-content-center">
                <h1>Our Menu's</h1>
            </div>
            <div class="container d-flex text-center justify-content-center">
                <h3 style="color: #f7c17b;">Best Seller</h3>
            </div>

            <div class="spacer"></div>
            <div class="container menu-soto" style="padding-left: 80px;">
                <div class="container parallax-image">
                    <div class="row">
                        <div class="col-md-6">
                            <img height="60%"
                                src="https://i.pinimg.com/564x/e1/8c/c5/e18cc50092279bbf50821ebca6f205e8.jpg">
                        </div>
                        <div class="col-md-6">
                            <h1>Soto Ayam</h1>
                            <p class="d-block mt-5">Soto khas Indonesia yang lezat dan beraroma, terutama dikenal
                                untuk citarasa kaya rempah-rempah dan kelezatan daging ayam. Hidangan ini terdiri dari
                                beberapa
                                elemen utama yang menyatu harmonis, menciptakan pengalaman makan yang memuaskan</p>

                            <div class="spacer"></div>
                            <div class="container d-block text-center">
                                <div class="row align-items-center">
                                    <div class="col-4">
                                        <p class="text-price mb-0">Price <span style="color: #f7c17b;">Rp. </span><span
                                                style="color: #233000;">8k</span></p>
                                    </div>
                                    <div class="col-4">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="container parallax-container">
                    <div class="row">
                        <div class="col-md-6">
                            <h1>Soto Daging Sapi</h1>
                            <p class="d-block mt-5">Mari nikmati kelezatan Soto Daging Sapi kami yang memikat lidah
                                Anda. Hidangan yang kaya akan rasa dan aroma rempah-rempah, dengan potongan daging sapi
                                yang lembut dan lezat. Soto ini merupakan perpaduan harmonis dari bumbu-bumbu
                                tradisional Indonesia,</p>

                            <div class="spacer"></div>
                            <div class="container d-block text-center">
                                <div class="row align-items-center">
                                    <div class="col-4">
                                        <p class="text-price mb-0">Price <span style="color: #f7c17b;">Rp.
                                            </span><span style="color: #325662">12k</span></p>
                                    </div>
                                    <div class="col-4">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6" style="padding-left: 15%;">
                            <img height="60%"
                                src="https://i.pinimg.com/564x/d3/1f/63/d31f639960fd5c7e619482b36dc7ac51.jpg">
                        </div>
                    </div>
                </div>

                <div class="container parallax-image">
                    <div class="row">
                        <div class="col-md-6">
                            <img height="60%"
                                src="https://i.pinimg.com/564x/6e/07/8f/6e078f3ef5c2cb9719408e15d8cbab98.jpg">
                        </div>
                        <div class="col-md-6">
                            <h1>Soto Babat</h1>
                            <p class="d-block mt-5">Soto khas Indonesia yang lezat dan beraroma, terutama dikenal
                                untuk citarasa kaya rempah-rempah dan kelezatan daging ayam. Hidangan ini terdiri dari
                                beberapa
                                elemen utama yang menyatu harmonis, menciptakan pengalaman makan yang memuaskan</p>

                            <div class="spacer"></div>
                            <div class="container d-block text-center">
                                <div class="row align-items-center">
                                    <div class="col-4">
                                        <p class="text-price mb-0">Price <span style="color: #f7c17b;">Rp. </span><span
                                                style="color: #325662">10k</span></p>
                                    </div>
                                    <div class="col-4">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section>


    <section id="pesanan" style="background-color: #EBF0E4;" class="p-5">
        <div class="container d-flex text-center justify-content-center">
            <h1 style="color: black"> Order Here </h1>
        </div>

        <div class="medium-spacer"></div>
        <div class="container parallax-bawah">
            <div id="pricelist-container1" class="row row-cols-1 row-cols-md-2 g-4"></div>
            <div id="floatingSelect"></div>
            <div class="medium-spacer"></div>
            <div class="container d-flex justify-content-center">
                <div class="container px-4 text-center">
                    <div class="row gx-5">
                        <div class="col-md-4">
                            <button onclick="resetCart()" type="button" class="btn btn-outline-danger"
                                style="width: 180px; height: 60px; font-size: 20px; ">Reset
                        </div>
                        <div class="col-md-4">
                            <button onclick="openCartDrawer()" class="btn btn-primary"
                                style="background-color: #5E6600; border: none; width: 180px; height: 60px; font-size: 20px;"><img
                                    src="assets/cart.png" width="" alt=""></button>
                        </div>
                        <div class="col-md-4">
                            <button onclick="checkout()" class="btn btn-primary"
                                style="background-color: #5E6600; border: none; width: 180px; height: 60px; font-size: 20px;">Checkout</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </section>

    <section id="Contact" style="background-color: #233000; color: white; padding: 60px 0;">
        <div class="container mt-5">
            <div class="row">
                <div class="col-lg-4 order-lg-1">
                    <h1 class="mb-4">Soto Bu Yani <br> <span style="font-size: 15px;">Email: info@sotobuyani.com</span>
                        <br>
                        <p style="font-size: 15px;">Phone: +62 123 456 789</p>
                    </h1>
                </div>
                <div class="col-lg-4 order-lg-3">
                    <h2 class="section-heading mb-4 text-center">Contact Information</h2>
                    <p class="text-center">Feel free to connect with us for any inquiries or feedback.</p>
                </div>
                <div class="col-lg-4 order-lg-2">
                    <h2 class="section-heading mb-4 text-right">Visit Us</h2>
                    <p class="text-right">Explore our location at the following address:</p>
                    <address class="text-right">
                        <strong>Soto Bu Yani</strong><br>
                        Jl. Contoh No. 123<br>
                        Kota Anda, 12345<br>
                        Indonesia
                    </address>
                </div>
            </div>
        </div>
    </section>

    <div class="dashed-divider" style="border-top: 1px dashed #fff;"></div>

    <footer style="background-color: #233000; color: white; padding: 20px 0;">
        <div class="container text-center">
            <p>&copy; 2023 Soto Bu Yani. All rights reserved.</p>
        </div>
    </footer>


    <!-- Cart Drawer Modal -->
    <div class="modal fade" id="cartDrawer" tabindex="-1" aria-labelledby="cartDrawerLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartDrawerLabel">Cart Items</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul class="list-group" id="cartItemList"></ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>







    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script>
        // Function Pesanan
        const pricelistContainer1 = document.getElementById('pricelist-container1');
        const cart = JSON.parse(localStorage.getItem('cart')) || []; // Change from cart1 to cart
        let pricelistData1;

        function renderPricelist() {
            $.ajax({
                url: 'http://localhost:8080/readAll',
                method: 'GET',
                success: function (result) {
                    pricelistData1 = result;
                    const pricelistContainer1 = document.getElementById('pricelist-container1');

                    result.forEach(menu => {
                        const menuItem = document.createElement('div');
                        menuItem.classList.add('col');

                        menuItem.innerHTML = `
                                <div class="card rounded-2" style="font-family: 'Rufina', serif'">
                                    <div class="card-body text-center">
                                        <h3 class="card-title " style="color: #233000; font-family: 'Inter', sans-serif;">${menu.namamenu}</h3>
                                        <h4 class="card-text" style="font-family: 'Inter', sans-serif;">Rp. ${menu.harga}</h4>
                                        <div class="input-group">
                                            <input type="number" class="form-control quantity-input" id="quantity-${menu.id}" value="" min="0" placeholder="Masukkan jumlah pesanan">
                                            <button class="btn text-white" style="background-color:#233000;" onclick="addToCart(${menu.id})">Put In Cart</button>
                                        </div>
                                    </div>
                                </div>
                            `;

                        pricelistContainer1.appendChild(menuItem);
                    });
                },
                error: function (error) {
                    console.error('Error fetching pricelist:', error);
                }
            });
        }

        // ... (your existing code)

        function displayCartItems() {
            const cartItemList = document.getElementById('cartItemList');
            cartItemList.innerHTML = '';

            if (cart.length > 0) {
                cart.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.classList.add('list-group-item');
                    listItem.innerHTML = `${item.menu.namamenu} <br> Jumlah: ${item.quantity} <br> Harga: ${item.menu.harga}`;
                    cartItemList.appendChild(listItem);
                });
            } else {
                const listItem = document.createElement('li');
                listItem.classList.add('list-group-item');
                listItem.textContent = 'Cart is empty';
                cartItemList.appendChild(listItem);
            }
        }

        function openCartDrawer() {
            displayCartItems();
            $('#cartDrawer').modal('show');
        }

        // ... (your existing code)


        function addToCart(menuId) {
            const quantityInput = document.getElementById(`quantity-${menuId}`);
            const quantity = parseInt(quantityInput.value, 10);

            if (quantity > 0) {
                if (pricelistData1.length > 0) {
                    const selectedMenu = pricelistData1.find(menu => menu.id === menuId);

                    if (selectedMenu) {
                        const itemInCart = cart.find(item => item.menu.id === menuId);

                        if (itemInCart) {
                            itemInCart.quantity += quantity;
                        } else {
                            cart.push({ menu: selectedMenu, quantity });
                        }

                        quantityInput.value = 0;
                        localStorage.setItem('cart', JSON.stringify(cart));

                        // Display notification
                        displayNotification(`${selectedMenu.namamenu} telah ditambahkan ke keranjang`);

                        console.log('Menu ditambahkan ke keranjang belanja', cart);
                    } else {
                        console.error('Menu dengan ID', menuId, 'tidak ditemukan dalam pricelistData.');
                    }
                } else {
                    console.error('PricelistData belum diinisialisasi atau kosong.');
                }
            } else {
                console.warn('Quantity harus lebih besar dari 0 untuk menambahkan menu ke keranjang.');
            }
        }

        function openCartDrawer() {
            displayCartItems();
            $('#cartDrawer').modal('show');
        }

        function displayNotification(message) {
            // Create a notification element
            const notification = document.createElement('div');
            notification.classList.add('alert', 'alert-success', 'mt-3');
            notification.textContent = message;

            // Append the notification to the floatingSelect div
            const floatingSelect = document.getElementById('floatingSelect');
            floatingSelect.innerHTML = ''; // Clear previous notifications
            floatingSelect.appendChild(notification);

            // Remove the notification after a certain duration (e.g., 3 seconds)
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }


        function checkout() {
            // Tambahkan logika untuk proses checkout
            if (cart.length > 0) {
                console.log('Proses checkout...');
                console.log('Isi keranjang belanja:', cart);
                console.log('Total Harga: Rp.', calculateTotal());

                // Redirect to checkout.html
                window.location.href = 'checkout.html';
            } else {
                console.log('Keranjang belanja kosong. Silakan pilih menu terlebih dahulu.');
            }
        }

        function resetCart() {
            // Tambahkan logika untuk mereset keranjang belanja
            cart.length = 0;
            localStorage.removeItem('cart');
            console.log('Keranjang belanja telah direset');
        }

        function calculateTotal() {
            return cart.reduce((total, item) => total + item.menu.harga * item.quantity, 0);
        }

        renderPricelist();
    </script>



</body>

</html>